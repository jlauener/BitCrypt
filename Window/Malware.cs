using System;

class Malware : Window
{
	public float CryptPerSec = 20f;
	private float cryptCounter;

	public Malware()
	{
		Title = "Amlware 0x45F";
		Draggable = false;
		//AlwaysOnTop = true;

		Add<TextLabel>()
			.SetText("U R PWN")
			.SetSize(80, 8)
		;

		Add<Button>()
			.SetOnPressed(Remove)
			.SetSize(80, 12)
			.Add<TextLabel>().SetText("Remove").Center()
		;
	}

	public override void Update()
	{
		base.Update();

		cryptCounter += Time.DeltaTime * CryptPerSec;
		var value = (int)Math.Floor(cryptCounter);
		if (value > 0)
		{
			cryptCounter -= value;
			Computer.Disk.Remove(value);
		}
	}
}